template(name='user_table')
    .ui.container
        a#add_user.ui.button(href='/user/add')
            i.plus.icon
            |Add User
        table.ui.sortable.striped.table
            thead
                tr
                    th Image
                    th Profile
                    th Roles
            tbody
                each users
                    tr
                        td 
                            img.ui.tiny.image(src="{{c.url image_id width=100 height=100 gravity='face' crop='fill'}}")
                        td 
                            .ui.header 
                                |#{name}
                            div 
                                | Username: #{username}
                            each emails
                                |#{address}
                            a(href="/account/profile/edit/#{_id}")
                                |Edit
                        td 
                            .ui.hidden.fitted.divider
                            +user_role_toggle label='admin'
                            +user_role_toggle label='therapist'
                            +user_role_toggle label='client'
                            +user_role_toggle label='user'
                            

template(name='user_role_toggle')
    .ui.left.labeled.button
        if is_in_role
            .remove_role.ui.green.button #{label}
        else
            .add_role.ui.basic.label #{label}
